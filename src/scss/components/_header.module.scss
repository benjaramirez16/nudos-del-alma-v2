@use '../abstracts/variables' as var;

.header {
  padding: 1.5rem 2rem;
  background-color: var.$color-white;
  // Usamos nuestra nueva variable para bordes
  border-bottom: 1px solid var.$color-border;
}

.header__nav {
  display: flex;
  justify-content: space-between;
  align-items: center;
  max-width: 1200px;
  margin: 0 auto;
}

.header__logo {
  // Ahora usará la fuente Serif (Cormorant Garamond)
  font-family: var.$font-primary;
  font-weight: 700;
  font-size: 1.8rem; // Un poco más grande para que la serifa luzca
  color: var.$color-text;
  text-decoration: none;
}

.header__list {
  display: flex;
  gap: 2rem;
  list-style: none;
}

.header__link {
  font-family: var.$font-secondary; // Fuente Sans-serif (Lato)
  text-decoration: none;
  color: var.$color-text-light;
  font-weight: 400; // Un peso normal para Lato se ve muy bien
  transition: color 0.3s ease;

  &:hover {
    color: var.$color-primary; // Nuestro nuevo color de acento
  }
}

.cartIcon {
  position: relative;
  color: var.$color-text;
  font-size: 1.5rem;
  text-decoration: none;
  display: flex;
  align-items: center;
}

.cartCount {
  position: absolute;
  top: -8px;
  right: -10px;
  background-color: var.$color-primary;
  color: var.$color-white;
  border-radius: 50%;
  width: 22px;
  height: 22px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 0.8rem;
  font-weight: 700;
  font-family: var.$font-secondary;
  // Pequeño borde para que resalte
  border: 2px solid var.$color-background; 
}

.header__rightGroup {
  display: flex;
  align-items: center;
  gap: 2rem; // Mantiene el espaciado entre la lista y el carrito
}

// Estilos para el botón de hamburguesa
.hamburgerButton {
  display: none; // 1. Oculto por defecto en pantallas grandes
  background: none;
  border: none;
  color: var.$color-text;
  font-size: 1.8rem;
  cursor: pointer;
  z-index: 1001; // Para que esté por encima del menú
}

// ==========================================================================
// ESTILOS RESPONSIVE PARA MÓVIL (TABLETS Y MÁS PEQUEÑO)
// ==========================================================================
@media (max-width: 768px) {
  .header__rightGroup {
    gap: 1.5rem;
  }

  .header__list {
    display: none;
    flex-direction: column;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(251, 249, 246, 0.95);
    backdrop-filter: blur(5px);
    justify-content: center;
    align-items: center;
    gap: 2rem;
    z-index: 1000;
  }
  
  .header__list.isOpen {
  display: flex;
  height: 100vh; /* Usa el 100% de la altura de la pantalla */
  top: 0;        /* Asegura que empiece desde el borde superior */
  }
  
  .header__link {
    font-size: 1.8rem;
  }

  .hamburgerButton {
    display: block;
    z-index: 1001; // El botón siempre debe estar por encima del menú
  }

  // Cuando el header tiene la clase .menuIsOpen...
  .header.menuIsOpen {
    .hamburgerButton {
      // 1. Lo fijamos a la ventana del navegador
      position: fixed;
      top: 2rem; // Ajusta según tu padding del header
      right: 2rem; // Ajusta según tu padding del header
      
      // 2. Le damos un color más visible sobre el menú abierto
      color: var.$color-primary;
    }
    
    .cartIcon {
      // 3. Opcional: Ocultamos el carrito para que no estorbe a la X
      visibility: hidden;
    }
  }

  .header__logo {
    // Forzamos al logo a estar en una capa inferior a la del menú
    position: relative;
    z-index: 999; // Menor que el z-index del menú (1000)
  }
}